<div class="container">
    <h2>Contact Form</h2>
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" autocomplete="off">
        <div class="form-group">
            <label for="name">Name:</label>
            <input
                type="text"
                id="name"
                placeholder="Enter your name"
                formControlName="name"
                [class.error]="name?.invalid && name?.touched"
            />
            <div class="error-message" *ngIf="name?.invalid && name?.touched">
                <div *ngIf="name?.errors?.['required']">Name is required</div>
                <div *ngIf="name?.errors?.['minlength']">
                    Name must be at least 2 characters long
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input
                type="email"
                id="email"
                placeholder="Enter your email"
                formControlName="email"
                [class.error]="email?.invalid && email?.touched"
            />
            <div class="error-message" *ngIf="name?.invalid && name?.touched">
                <div *ngIf="email?.errors?.['required']">Email is required</div>
                <div *ngIf="email?.errors?.['email']">Email is invalid</div>
            </div>
        </div>
        <div class="form-group">
            <label for="subject">Subject:</label>
            <input
                type="text"
                id="subject"
                placeholder="Enter your subject"
                formControlName="subject"
                [class.error]="subject?.invalid && subject?.touched"
            />
            <div class="error-message" *ngIf="name?.invalid && name?.touched">
                <div *ngIf="subject?.errors?.['required']">
                    Subject is required
                </div>
                <div *ngIf="subject?.errors?.['maxlength']">
                    Subject must be at most 50 characters long
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="message">Message:</label>
            <textarea
                class="form-control"
                id="message"
                rows="5"
                placeholder="Enter your message"
                formControlName="message"
                [class.error]="message?.invalid && message?.touched"
            ></textarea>
            <div class="error-message" *ngIf="name?.invalid && name?.touched">
                <div *ngIf="message?.errors?.['required']">
                    Message is required
                </div>
                <div *ngIf="message?.errors?.['minlength']">
                    Message must be at least 10 characters long
                </div>
            </div>
        </div>
        <button type="submit" class="submit" [disabled]="contactForm.invalid">
            Submit
        </button>
    </form>
    <div class="success-message" *ngIf="submissionStatus === 'success'">
        Thank you for your message!
    </div>
    <div class="error-message" *ngIf="submissionStatus === 'error'">
        An error occurred while sending your message. Please try again later.
    </div>
</div>
